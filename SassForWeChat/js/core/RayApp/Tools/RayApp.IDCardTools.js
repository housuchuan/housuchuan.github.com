define(function(require,exports,module){"use strict";function t(t){if(t=t.replace(/ /g,"").trim(),15==t.length)return exports.IdCardUtil_15.isValidityBrithBy15IdCard(t);if(18==t.length){var r=t.split("");return!(!exports.IdCardUtil_18.isValidityBrithBy18IdCard(t)||!exports.IdCardUtil_18.isTrueValidateCodeBy18IdCard(r))}return!1}function r(t){return t=t.replace(/ /g,"").trim(),15==t.length?exports.IdCardUtil_15.GetIdCardBirthday15(t):18==t.length?exports.IdCardUtil_18.GetIdCardBirthday18(t):""}var a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],e=[1,0,10,9,8,7,6,5,4,3,2];exports.IdCardUtil_18=function(){var t={};return t.isValidityBrithBy18IdCard=function(t){var r=t.substring(6,10),a=t.substring(10,12),e=t.substring(12,14),i=new Date(r,parseFloat(a)-1,parseFloat(e));return i.getFullYear()==parseFloat(r)&&i.getMonth()==parseFloat(a)-1&&i.getDate()==parseFloat(e)},t.isTrueValidateCodeBy18IdCard=function(t){var r=0;"x"==t[17].toLowerCase()&&(t[17]=10);for(var i=0;i<17;i++)r+=a[i]*t[i];var n=r%11;return t[17]==e[n]},t.GetIdCardBirthday18=function(t){var r=t.substring(6,10),a=t.substring(10,12),e=t.substring(12,14);return r+"-"+a+"-"+e},t}(),exports.IdCardUtil_15=function(){var t={};return t.isValidityBrithBy15IdCard=function(t){var r=t.substring(6,8),a=t.substring(8,10),e=t.substring(10,12),i=new Date(r,parseFloat(a)-1,parseFloat(e));return i.getYear()==parseFloat(r)&&i.getMonth()==parseFloat(a)-1&&i.getDate()==parseFloat(e)},t.GetIdCardBirthday15=function(t){var r=t.substring(6,8),a=t.substring(8,10),e=t.substring(10,12);return r+"-"+a+"-"+e},t}(),exports.validateUserIdendity=function(r,a){return!r||"string"!=typeof r||1!=a&&18!=r.trim().length?(console.log("校验失败"),!1):t(r)},exports.getUserBirthDayByIdendity=function(t,a){return 0==exports.validateUserIdendity(t,a)?"Illegal IdCard":r(t)}});