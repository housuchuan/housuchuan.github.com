define(function(require,exports,module){"use strict";function i(){var i=this;t.plusReady(function(){if("Android"==plus.os.name){var e=plus.os.version,s=plus.android.importClass("android.content.Context"),l=plus.android.runtimeMainActivity(),r=(plus.android.importClass("android.app.NotificationManager"),l.getSystemService(s.NOTIFICATION_SERVICE)),u=null;u=1==t.compareVersion("4.1.1",e)?plus.android.importClass("android.app.Notification"):plus.android.importClass("android.support.v4.app.NotificationCompat"),u&&(i.notifyManager=r,i.mNotificationBuild=new u.Builder(l),i.mNotificationBuild.setOngoing(!1),i.mNotificationBuild.setContentTitle(o),i.mNotificationBuild.setContentText(n),i.mNotificationBuild.setTicker(a),i.mNotificationBuild.setSmallIcon(17301620),i.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND))}})}var t=require("CommonTools_Core"),o="通知栏标题",n="通知内容",a="通知提示",e=1e3;i.prototype.setNotification=function(i,t,s,l){null!=this.mNotificationBuild&&null!=this.notifyManager&&(l="number"==typeof l?l:e,i=i||o,t=t||n,s=s||a,this.mNotificationBuild.setContentTitle(i),this.mNotificationBuild.setContentText(t),this.mNotificationBuild.setTicker(s),this.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND),this.notifyManager.notify(l,this.mNotificationBuild.build()))},i.prototype.setProgress=function(i,t,o,n,a){null!=this.mNotificationBuild&&null!=this.notifyManager&&(a="number"==typeof a?a:e,t=t||"正在下载",o=o||"正在下载",n=n||"进度提示",this.mNotificationBuild.setContentTitle(t),this.mNotificationBuild.setContentText(o),this.mNotificationBuild.setTicker(n),this.mNotificationBuild.setDefaults(0),this.mNotificationBuild.setProgress(100,i,!1),this.notifyManager.notify(a,this.mNotificationBuild.build()))},i.prototype.compProgressNotification=function(i,t,o,n){null!=this.mNotificationBuild&&null!=this.notifyManager&&(n="number"==typeof n?n:e,i=i||"进度条显示完毕",t=t||"进度条显示完毕",o=o||"进度提示",this.mNotificationBuild.setContentTitle(i),this.mNotificationBuild.setContentText(t),this.mNotificationBuild.setTicker(o),this.mNotificationBuild.setProgress(0,0,!1),this.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND),this.notifyManager.notify(n,this.mNotificationBuild.build()))},i.prototype.clearNotification=function(i){i="number"==typeof i?i:e,this.notifyManager&&this.notifyManager.cancel(i)},i.prototype.clearAllNotification=function(){this.notifyManager&&this.notifyManager.cancelAll()};var s=null;exports.initNotificationControl=function(){return null==s&&(s=new i),s}});