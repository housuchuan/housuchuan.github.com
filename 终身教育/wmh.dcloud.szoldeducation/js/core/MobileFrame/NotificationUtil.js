define(function(require,d,b){var e=require("core/MobileFrame/CommonUtil");var h="通知栏标题";var k="通知内容";var j="通知提示";var a=1000;var g=1;function f(){var l=this;e.plusReady(function(){if(plus.os.name!="Android"){return}var q=plus.os.version;var o=plus.android.importClass("android.content.Context");var n=plus.android.runtimeMainActivity();var p=plus.android.importClass("android.app.NotificationManager");var m=n.getSystemService(o.NOTIFICATION_SERVICE);var r=null;if(e.compareVersion("4.1.1",q)==true){r=plus.android.importClass("android.app.Notification")}else{r=plus.android.importClass("android.support.v4.app.NotificationCompat")}if(r){l.notifyManager=m;l.mNotificationBuild=new r.Builder(n);l.mNotificationBuild.setOngoing(false);l.mNotificationBuild.setContentTitle(h);l.mNotificationBuild.setContentText(k);l.mNotificationBuild.setTicker(j);l.mNotificationBuild.setSmallIcon(17301620);l.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND)}})}f.prototype.setNotification=function(n,m,l,o){if(this.mNotificationBuild==null||this.notifyManager==null){return}o=(typeof(o)=="number")?o:a;n=n||h;m=m||k;l=l||j;this.mNotificationBuild.setContentTitle(n);this.mNotificationBuild.setContentText(m);this.mNotificationBuild.setTicker(l);this.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND);this.notifyManager.notify(o,this.mNotificationBuild.build())};f.prototype.setProgress=function(m,o,n,l,p){if(this.mNotificationBuild==null||this.notifyManager==null){return}p=(typeof(p)=="number")?p:a;o=o||"正在下载";n=n||"正在下载";l=l||"进度提示";this.mNotificationBuild.setContentTitle(o);this.mNotificationBuild.setContentText(n);this.mNotificationBuild.setTicker(l);this.mNotificationBuild.setDefaults(0);this.mNotificationBuild.setProgress(100,m,false);this.notifyManager.notify(p,this.mNotificationBuild.build())};f.prototype.compProgressNotification=function(n,m,l,o){if(this.mNotificationBuild==null||this.notifyManager==null){return}o=(typeof(o)=="number")?o:a;n=n||"进度条显示完毕";m=m||"进度条显示完毕";l=l||"进度提示";this.mNotificationBuild.setContentTitle(n);this.mNotificationBuild.setContentText(m);this.mNotificationBuild.setTicker(l);this.mNotificationBuild.setProgress(0,0,false);this.mNotificationBuild.setDefaults(plus.android.importClass("android.app.Notification").DEFAULT_SOUND);this.notifyManager.notify(o,this.mNotificationBuild.build())};f.prototype.clearNotification=function(l){l=(typeof(l)=="number")?l:a;if(this.notifyManager){this.notifyManager.cancel(l)}};f.prototype.clearAllNotification=function(){if(this.notifyManager){this.notifyManager.cancelAll()}};var i=null;d.initNotificationControl=function(){if(i==null){i=new f()}return i}});